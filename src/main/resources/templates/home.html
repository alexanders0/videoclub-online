<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<title>Home</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>

</head>
<body>
    <h1>
        Hello <span sec:authentication="name">user</span>
    </h1>

    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <a th:href="@{/manage_users}">Manage users</a>
        <a th:href="@{/new_movie}">Create movie</a>
    </div>

    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out" />
    </form>

	<form class="navbar-form navbar-left" role="search" th:action="@{/search_result}" method="get">
	  <div class="form-group">
	    <input type="text" class="form-control" name="movie_name" placeholder="Search"/>
	  </div>
	  <button type="submit" class="btn btn-default">Submit</button>
	</form>
    
    <br/>
    
    <a href="@{/watch_movie}" th:href="@{/watch_movie(id=${movie.getId()})}" th:each="movie : ${movies}" th:text="|${movie.getName()}|">Pel√≠cula</a> 
	
	<a th:href="@{/edit_movie(id=${movie.getId()})}" th:each="movie : ${movies}">
	<button type="button" class="btn btn-default" aria-label="Left Align">
	  <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
	</button>
 	</a>
 	
	<a th:href="@{/delete_movie(id=${movie.getId()})}" th:each="movie : ${movies}">
	<button type="button" class="btn btn-default" aria-label="Left Align">
	  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
	</button>
 	</a>
 	 
</body>
</html>
